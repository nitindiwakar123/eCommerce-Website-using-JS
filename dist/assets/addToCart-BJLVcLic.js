import{g as d,s as S,u as q}from"./showToast-hFF_dqB9.js";/* empty css              */import{p as f}from"./products-Bq_OMILD.js";const P=(c,e)=>{let o=d().find(n=>n.id===c),u=1;return o&&(u=o.quantity,e=o.price),{quantity:u,price:e}},y=()=>{const c=document.querySelector(".productSubTotal"),e=document.querySelector(".productFinalTotal"),r=50,n=d().reduce((l,t)=>{let a=parseInt(t.price)||0;return l+a},0);c.innerText=`₹${Number(n.toFixed(2))}`,e.innerText=`₹${Number((n+r).toFixed(2))}`},g=c=>{let e=d();e=e.filter(o=>o.id!=c),localStorage.setItem("cartProducts",JSON.stringify(e));let r=document.querySelector(`#card${c}`);r&&(r.remove(),S("delete",c)),q(e),y()},C=(c,e,r,o)=>{const u=document.querySelector(`#card${e}`),n=u.querySelector(".productQuantity"),l=u.querySelector(".productPrice");let t=1,a=0,i=d(),m=i.find(s=>s.id===e);m?(t=m.quantity,a=m.price):(a=o,o=o),c.target.className=="cartIncrement"&&(t<r?t+=1:t===r&&(t=r,a=o*r)),c.target.className=="cartDecrement"&&t>1&&(t-=1),a=o*t,a=Number(a.toFixed(2));let p={id:e,quantity:t,price:a};p=i.map(s=>s.id===e?p:s),localStorage.setItem("cartProducts",JSON.stringify(p)),n.innerText=t,l.innerText=a,y()};let T=d(),x=f.filter(c=>T.some(e=>e.id===c.id));const E=document.querySelector("#productCartContainer"),b=document.querySelector("#productCartTemplate"),F=()=>{x.forEach(c=>{const{category:e,id:r,name:o,image:u,stock:n,price:l}=c;let t=document.importNode(b.content,!0);const a=P(r,l);t.querySelector("#cardValue").setAttribute("id",`card${r}`),t.querySelector(".category").innerText=e,t.querySelector(".productImage").src=u,t.querySelector(".productImage").alt=o,t.querySelector(".productQuantity").innerText=a.quantity,t.querySelector(".productPrice").innerText=a.price,t.querySelector(".stockElement").addEventListener("click",i=>{C(i,r,n,l)}),t.querySelector(".remove-to-cart-button").addEventListener("click",i=>{g(r)}),E.append(t)})};F();y();
